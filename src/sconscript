
# vim: ft=python

Import('env')

sdlcsr = env.Program('sdlcsr', ['sdlcsr.c'], LIBS = ['consoler', 'SDL', 'util']);
env.Default(sdlcsr);

kmapper_o = env.Object('kmapper.o', ['kmapper'])

filler = env.Program('filler', ['filler.c', kmapper_o], LIBS=['consoler'])
env.Default(filler)

tfiller = env.Program('tfiller', ['tfiller.c'], LIBS=['consoler'])
Default(env.Command('tfiller.output', [tfiller, filler], "$SOURCES > $TARGET"));

fonter_o = env.Object('fonter.o', ['fonter'])
tfonter = env.Program('tfonter', ['tfonter.c', fonter_o],
        LIBS = ['m', 'fontconfig', 'freetype', 'consoler'])
Default(tfonter);

tfonter2 = env.Program('tfonter2', ['tfonter2.c', fonter_o],
        LIBS = ['m', 'fontconfig', 'freetype', 'consoler'])
Default(env.Command('tfonter2.output', [tfonter2, filler], "$SOURCES > $TARGET"));

boxer = env.Program('boxer', ['boxer.c'], LIBS=['consoler'])
env.Default(boxer)

pnger = env.Program('pnger', ['pnger.c'], LIBS = ['png', 'consoler'])
env.Default(pnger)

sgreen = env.Program('sgreen', ['sgreen.c', fonter_o],
        LIBS = ['pthread', 'fontconfig', 'freetype', 'consoler']);
env.Default(sgreen);

cgreen = env.Program('cgreen', ['cgreen.c']);
env.Default(cgreen);

pdfer = env.Program('pdfer', ['mpdfer.cpp', 'pdfer.cpp', fonter_o], LIBS=['poppler', 'poppler-cpp', 'consoler'])
env.Default(pdfer)

freetyper = env.Program('freetyper', ['freetyper.c'], LIBS=['freetype', 'consoler'])
env.Default(freetyper)

fontconfiger = env.Program('fontconfiger', ['fontconfiger.c'], LIBS=['fontconfig'])
env.Default(fontconfiger)

flicker = env.Program('flicker', ['flicker.c'], LIBS=['consoler'])
env.Default(flicker)

env.Install("$PREFIX/bin", [sdlcsr, filler, boxer, pnger, sgreen, cgreen, pdfer])

