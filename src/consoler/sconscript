
# vim: ft=python

Import('env')

consoler = env.Library('consoler.c')
env['CPPPATH'].append(Dir('.'))
env['LIBPATH'].append(Dir('.'))

consolertest = env.Program('consolertest', 'consolertest.c', LIBS=['consoler'])
Default(env.Command('consolertest.out', consolertest, "$SOURCES > $TARGET"))

consolerpkgconfig = env.Substfile('consoler.pc', 'consoler.pc.in',
        SUBST_DICT= {"@PREFIX@": env['PREFIX'], "@VERSION@": env['VERSION']})
env.Default(consolerpkgconfig)

env.Install("$PREFIX/include", ['consoler.h', 'consoler_keysym.h'])
env.Install("$PREFIX/lib", consoler);
env.Install("$PREFIX/lib/pkgconfig", consolerpkgconfig)

