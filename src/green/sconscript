
# vim: ft=python

Import('env')

sgreen = env.Program('sgreen', ['sgreen.c', 'green.c'],
        LIBS = ['pthread', 'consoler']);
env.Default(sgreen);

cgreen = env.Program('cgreen', 'cgreen.c');
env.Default(cgreen);

sgreentest = env.Program('sgreentest', 'sgreentest.c', LIBS=['consoler'])
Default(env.Command('sgreentest.out', [sgreentest, sgreen, env["filler"]],
    "$SOURCES > $TARGET"))

cgreentest = env.Program('cgreentest', 'cgreentest.c', LIBS=['consoler'])
Default(env.Command('cgreentest.out', [cgreentest, sgreen, cgreen, env["filler"]],
    "$SOURCES > $TARGET"))

env['PROGRAMDOC']('sgreen')
env['PROGRAMDOC']('cgreen')
env.Install("$PREFIX/bin", [sgreen, cgreen])

env.Install("$RELEASE", [
    'cgreen.c',
    'cgreentest.c',
    'green.docl',
    'sconscript',
    'sgreen.c',
    'sgreentest.c',
    ])

