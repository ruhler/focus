
# vim: ft=python

Import('env')

env['GHCPATH'] = Dir(".")
#env['GHCFLAGS'] = "-optc -ggdb -optc -O0"
#env['GHCFLAGS'] = "-prof -auto-all"

# Unit Tests
termertest = env.GHCProgram('termertest')
env.Default(env.Command('termertest.out', termertest, "$SOURCE > $TARGET"))

# termer main app
env.Default(env.GHCProgram('termer',
    ['termer.hs', 'ctermer.c', '../consoler.o'],
    LIBS=['freetype', 'fontconfig', 'util'],
    GHCFLAGS=['-threaded']))
env.Depends('termer', 'ctermer.h')


# sdltermer
env.Default(env.GHCProgram('sdltermer',
    ['termer.hs', 'sdlctermer.c'],
    LIBS=['freetype', 'fontconfig', 'util', 'SDL'],
    GHCFLAGS=['-threaded']))
env.Depends('sdltermer', 'ctermer.h')


